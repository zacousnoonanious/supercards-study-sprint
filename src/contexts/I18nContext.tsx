import React, { createContext, useContext, useState, useEffect } from 'react';

interface I18nContextType {
  language: string;
  setLanguage: (lang: string) => void;
  t: (key: string) => string;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

export const useI18n = () => {
  const context = useContext(I18nContext);
  if (context === undefined) {
    throw new Error('useI18n must be used within an I18nProvider');
  }
  return context;
};

const translations = {
  en: {
    // Navigation & General
    'nav.dashboard': 'Dashboard',
    'nav.profile': 'Profile',
    'nav.signOut': 'Sign Out',
    'nav.createSet': 'Create New Set',
    'nav.marketplace': 'Marketplace',
    'nav.decks': 'Decks',
    'welcome': 'Welcome',
    'loading': 'Loading...',
    'save': 'Save',
    'cancel': 'Cancel',
    'edit': 'Edit',
    'delete': 'Delete',
    'create': 'Create',
    'add': 'Add',
    'remove': 'Remove',
    'close': 'Close',
    'back': 'Back',
    'next': 'Next',
    'previous': 'Previous',
    'submit': 'Submit',
    'update': 'Update',
    'confirm': 'Confirm',
    'search': 'Search',
    'filter': 'Filter',
    'sort': 'Sort',
    'view': 'View',
    'preview': 'Preview',
    'download': 'Download',
    'upload': 'Upload',
    'share': 'Share',
    'copy': 'Copy',
    'duplicate': 'Duplicate',
    'export': 'Export',
    'import': 'Import',
    
    // Homepage
    'home.title': 'Create Powerful Flashcards with AI',
    'home.subtitle': 'Transform your learning with interactive flashcards powered by artificial intelligence',
    'home.getStarted': 'Get Started Free',
    'home.learnMore': 'Learn More',
    'home.features.title': 'Everything you need to study effectively',
    'home.features.subtitle': 'Our platform provides all the tools you need for effective learning',
    'home.features.ai': 'AI-Powered Content',
    'home.features.aiDesc': 'Generate flashcards automatically from your content',
    'home.features.interactive': 'Interactive Elements',
    'home.features.interactiveDesc': 'Quizzes, fill-in-blanks, and multimedia support',
    'home.features.progress': 'Progress Tracking',
    'home.features.progressDesc': 'Monitor your learning progress and performance',
    'home.features.collaboration': 'Collaboration',
    'home.features.collaborationDesc': 'Share and study together with friends',
    'home.pricing.title': 'Choose Your Plan',
    'home.pricing.free': 'Free',
    'home.pricing.pro': 'Pro',
    'home.pricing.enterprise': 'Enterprise',
    
    // Dashboard
    'dashboard.title': 'Your Flashcard Sets',
    'dashboard.noSets': 'No flashcard sets yet',
    'dashboard.noSetsDesc': 'Create your first set to get started!',
    'dashboard.createFirst': 'Create Your First Set',
    'dashboard.viewCards': 'View Cards',
    'dashboard.study': 'Study',
    'dashboard.searchSets': 'Search your sets...',
    'dashboard.recentSets': 'Recent Sets',
    'dashboard.allSets': 'All Sets',
    'dashboard.favorites': 'Favorites',
    'dashboard.shared': 'Shared with Me',
    
    // Marketplace
    'marketplace.title': 'Marketplace',
    'marketplace.subtitle': 'Discover and download flashcard sets created by the community',
    'marketplace.search': 'Search marketplace...',
    'marketplace.featured': 'Featured Sets',
    'marketplace.popular': 'Popular',
    'marketplace.recent': 'Recently Added',
    'marketplace.categories': 'Categories',
    'marketplace.download': 'Download',
    'marketplace.preview': 'Preview',
    'marketplace.rating': 'Rating',
    'marketplace.downloads': 'Downloads',
    'marketplace.free': 'Free',
    'marketplace.premium': 'Premium',
    
    // Card Editor
    'editor.title': 'Card Editor',
    'editor.newCard': 'New Card',
    'editor.duplicateCard': 'Duplicate Card',
    'editor.deleteCard': 'Delete Card',
    'editor.cardType': 'Card Type',
    'editor.frontSide': 'Front',
    'editor.backSide': 'Back',
    'editor.addElement': 'Add Element',
    'editor.elementTypes.text': 'Text',
    'editor.elementTypes.image': 'Image',
    'editor.elementTypes.audio': 'Audio',
    'editor.elementTypes.video': 'Video',
    'editor.elementTypes.quiz': 'Quiz',
    'editor.elementTypes.trueFalse': 'True/False',
    'editor.elementTypes.fillBlank': 'Fill in Blank',
    'editor.elementTypes.drawing': 'Drawing',
    'editor.elementTypes.embed': 'Embed',
    'editor.tools.arrange': 'Auto Arrange',
    'editor.tools.grid': 'Grid Layout',
    'editor.tools.center': 'Center',
    'editor.tools.align': 'Align',
    'editor.canvas.width': 'Canvas Width',
    'editor.canvas.height': 'Canvas Height',
    'editor.element.position': 'Position',
    'editor.element.size': 'Size',
    'editor.element.style': 'Style',
    'editor.element.content': 'Content',
    'editor.element.behavior': 'Behavior',
    
    // Study Mode
    'study.title': 'Study Mode',
    'study.settings': 'Study Settings',
    'study.mode.flashcard': 'Flashcard Mode',
    'study.mode.quiz': 'Quiz Mode',
    'study.mode.review': 'Review Mode',
    'study.shuffle': 'Shuffle Cards',
    'study.timer': 'Timer',
    'study.autoFlip': 'Auto Flip',
    'study.showHint': 'Show Hint',
    'study.hideHint': 'Hide Hint',
    'study.revealAnswer': 'Reveal Answer',
    'study.correct': 'Correct',
    'study.incorrect': 'Incorrect',
    'study.nextCard': 'Next Card',
    'study.prevCard': 'Previous Card',
    'study.progress': 'Progress',
    'study.complete': 'Study Complete!',
    'study.score': 'Your Score',
    'study.accuracy': 'Accuracy',
    'study.timeSpent': 'Time Spent',
    'study.cardsStudied': 'Cards Studied',
    'study.restart': 'Study Again',
    'study.backToSet': 'Back to Set',
    
    // Profile
    'profile.title': 'Profile Settings',
    'profile.personalInfo': 'Personal Information',
    'profile.firstName': 'First Name',
    'profile.lastName': 'Last Name',
    'profile.email': 'Email Address',
    'profile.avatar': 'Profile Picture',
    'profile.language': 'Language',
    'profile.selectAvatar': 'Select Avatar',
    'profile.updateSuccess': 'Profile updated successfully!',
    'profile.updateError': 'Failed to update profile.',
    'profile.changeAvatar': 'Change Avatar',
    
    // Set Management
    'sets.create': 'Create New Set',
    'sets.title': 'Set Title',
    'sets.description': 'Description',
    'sets.category': 'Category',
    'sets.tags': 'Tags',
    'sets.visibility': 'Visibility',
    'sets.public': 'Public',
    'sets.private': 'Private',
    'sets.shared': 'Shared',
    'sets.settings': 'Set Settings',
    'sets.export': 'Export Set',
    'sets.import': 'Import Set',
    'sets.clone': 'Clone Set',
    'sets.delete': 'Delete Set',
    'sets.share': 'Share Set',
    'sets.embed': 'Embed Set',
    'sets.statistics': 'Statistics',
    'sets.performance': 'Performance',
    
    // AI Generator
    'ai.generate': 'Generate with AI',
    'ai.generating': 'Generating...',
    'ai.topic': 'Topic',
    'ai.difficulty': 'Difficulty',
    'ai.cardCount': 'Number of Cards',
    'ai.includeImages': 'Include Images',
    'ai.includeQuiz': 'Include Quiz Questions',
    'ai.includeFillBlank': 'Include Fill-in-Blanks',
    'ai.language': 'Content Language',
    'ai.tone': 'Tone',
    'ai.format': 'Format',
    'ai.examples': 'Examples',
    'ai.prompt': 'Custom Prompt',
    
    // Languages
    'lang.en': 'English',
    'lang.es': 'Español',
    'lang.fr': 'Français',
    'lang.de': 'Deutsch',
    'lang.it': 'Italiano',
    'lang.zh': '中文',
    
    // Theme Settings
    'theme.settings': 'Theme Settings',
    'theme.colorTheme': 'Color Theme',
    'theme.interfaceSize': 'Interface Size',
    
    // Error Messages
    'error.general': 'An error occurred. Please try again.',
    'error.network': 'Network error. Please check your connection.',
    'error.notFound': 'The requested item was not found.',
    'error.unauthorized': 'You are not authorized to perform this action.',
    'error.validation': 'Please check your input and try again.',
    
    // Success Messages
    'success.saved': 'Saved successfully!',
    'success.created': 'Created successfully!',
    'success.updated': 'Updated successfully!',
    'success.deleted': 'Deleted successfully!',
    'success.shared': 'Shared successfully!',
    
    // Tooltips and Instructions
    'tooltip.addText': 'Add a text element to your card',
    'tooltip.addImage': 'Add an image to your card',
    'tooltip.addAudio': 'Add audio content',
    'tooltip.addVideo': 'Add video content',
    'tooltip.addQuiz': 'Add a multiple choice question',
    'tooltip.addTrueFalse': 'Add a true/false question',
    'tooltip.addFillBlank': 'Add a fill-in-the-blank exercise',
    'tooltip.addDrawing': 'Add a drawing canvas',
    'tooltip.arrange': 'Automatically arrange elements',
    'tooltip.center': 'Center elements horizontally',
    'tooltip.align': 'Align elements',
    'tooltip.delete': 'Delete this element',
    'tooltip.duplicate': 'Duplicate this element',
    'tooltip.settings': 'Element settings',
    
    // Instructions
    'instruction.dragToResize': 'Drag corners to resize',
    'instruction.clickToEdit': 'Click to edit text',
    'instruction.dragToMove': 'Drag to move',
    'instruction.doubleClickEdit': 'Double-click to edit',
    'instruction.selectElement': 'Select an element to see options',
    'instruction.addFirstElement': 'Add your first element to get started',
  },
  es: {
    // Navigation & General
    'nav.dashboard': 'Panel',
    'nav.profile': 'Perfil',
    'nav.signOut': 'Cerrar Sesión',
    'nav.createSet': 'Crear Nuevo Set',
    'nav.marketplace': 'Mercado',
    'nav.decks': 'Mazos',
    'welcome': 'Bienvenido',
    'loading': 'Cargando...',
    'save': 'Guardar',
    'cancel': 'Cancelar',
    'edit': 'Editar',
    'delete': 'Eliminar',
    'create': 'Crear',
    'add': 'Añadir',
    'remove': 'Quitar',
    'close': 'Cerrar',
    'back': 'Atrás',
    'next': 'Siguiente',
    'previous': 'Anterior',
    'submit': 'Enviar',
    'update': 'Actualizar',
    'confirm': 'Confirmar',
    'search': 'Buscar',
    'filter': 'Filtrar',
    'sort': 'Ordenar',
    'view': 'Ver',
    'preview': 'Vista previa',
    'download': 'Descargar',
    'upload': 'Subir',
    'share': 'Compartir',
    'copy': 'Copiar',
    'duplicate': 'Duplicar',
    'export': 'Exportar',
    'import': 'Importar',
    
    // Homepage
    'home.title': 'Crea Tarjetas de Estudio Poderosas con IA',
    'home.subtitle': 'Transforma tu aprendizaje con tarjetas interactivas potenciadas por inteligencia artificial',
    'home.getStarted': 'Comenzar Gratis',
    'home.learnMore': 'Saber Más',
    'home.features.title': 'Todo lo que necesitas para estudiar efectivamente',
    'home.features.subtitle': 'Nuestra plataforma proporciona todas las herramientas que necesitas para un aprendizaje efectivo',
    'home.features.ai': 'Contenido con IA',
    'home.features.aiDesc': 'Genera tarjetas automáticamente desde tu contenido',
    'home.features.interactive': 'Elementos Interactivos',
    'home.features.interactiveDesc': 'Cuestionarios, espacios en blanco y soporte multimedia',
    'home.features.progress': 'Seguimiento de Progreso',
    'home.features.progressDesc': 'Monitorea tu progreso y rendimiento de aprendizaje',
    'home.features.collaboration': 'Colaboración',
    'home.features.collaborationDesc': 'Comparte y estudia junto con amigos',
    'home.pricing.title': 'Elige Tu Plan',
    'home.pricing.free': 'Gratis',
    'home.pricing.pro': 'Pro',
    'home.pricing.enterprise': 'Empresa',
    
    // Dashboard
    'dashboard.title': 'Tus Sets de Tarjetas',
    'dashboard.noSets': 'No hay sets de tarjetas aún',
    'dashboard.noSetsDesc': '¡Crea tu primer set para empezar!',
    'dashboard.createFirst': 'Crear Tu Primer Set',
    'dashboard.viewCards': 'Ver Tarjetas',
    'dashboard.study': 'Estudiar',
    'dashboard.searchSets': 'Buscar tus sets...',
    'dashboard.recentSets': 'Sets Recientes',
    'dashboard.allSets': 'Todos los Sets',
    'dashboard.favorites': 'Favoritos',
    'dashboard.shared': 'Compartidos Conmigo',
    
    // Marketplace
    'marketplace.title': 'Marketplace',
    'marketplace.subtitle': 'Discover and download flashcard sets created by the community',
    'marketplace.search': 'Search marketplace...',
    'marketplace.featured': 'Featured Sets',
    'marketplace.popular': 'Popular',
    'marketplace.recent': 'Recently Added',
    'marketplace.categories': 'Categories',
    'marketplace.download': 'Download',
    'marketplace.preview': 'Preview',
    'marketplace.rating': 'Rating',
    'marketplace.downloads': 'Downloads',
    'marketplace.free': 'Free',
    'marketplace.premium': 'Premium',
    
    // Card Editor
    'editor.title': 'Card Editor',
    'editor.newCard': 'New Card',
    'editor.duplicateCard': 'Duplicate Card',
    'editor.deleteCard': 'Delete Card',
    'editor.cardType': 'Card Type',
    'editor.frontSide': 'Front',
    'editor.backSide': 'Back',
    'editor.addElement': 'Add Element',
    'editor.elementTypes.text': 'Text',
    'editor.elementTypes.image': 'Image',
    'editor.elementTypes.audio': 'Audio',
    'editor.elementTypes.video': 'Video',
    'editor.elementTypes.quiz': 'Quiz',
    'editor.elementTypes.trueFalse': 'True/False',
    'editor.elementTypes.fillBlank': 'Fill in Blank',
    'editor.elementTypes.drawing': 'Drawing',
    'editor.elementTypes.embed': 'Embed',
    'editor.tools.arrange': 'Auto Arrange',
    'editor.tools.grid': 'Grid Layout',
    'editor.tools.center': 'Center',
    'editor.tools.align': 'Align',
    'editor.canvas.width': 'Canvas Width',
    'editor.canvas.height': 'Canvas Height',
    'editor.element.position': 'Position',
    'editor.element.size': 'Size',
    'editor.element.style': 'Style',
    'editor.element.content': 'Content',
    'editor.element.behavior': 'Behavior',
    
    // Study Mode
    'study.title': 'Study Mode',
    'study.settings': 'Study Settings',
    'study.mode.flashcard': 'Flashcard Mode',
    'study.mode.quiz': 'Quiz Mode',
    'study.mode.review': 'Review Mode',
    'study.shuffle': 'Shuffle Cards',
    'study.timer': 'Timer',
    'study.autoFlip': 'Auto Flip',
    'study.showHint': 'Show Hint',
    'study.hideHint': 'Hide Hint',
    'study.revealAnswer': 'Reveal Answer',
    'study.correct': 'Correct',
    'study.incorrect': 'Incorrect',
    'study.nextCard': 'Next Card',
    'study.prevCard': 'Previous Card',
    'study.progress': 'Progress',
    'study.complete': 'Study Complete!',
    'study.score': 'Your Score',
    'study.accuracy': 'Accuracy',
    'study.timeSpent': 'Time Spent',
    'study.cardsStudied': 'Cards Studied',
    'study.restart': 'Study Again',
    'study.backToSet': 'Back to Set',
    
    // Profile
    'profile.title': 'Configuración del Perfil',
    'profile.personalInfo': 'Información Personal',
    'profile.firstName': 'Nombre',
    'profile.lastName': 'Apellido',
    'profile.email': 'Correo Electrónico',
    'profile.avatar': 'Foto de Perfil',
    'profile.language': 'Idioma',
    'profile.selectAvatar': 'Seleccionar Avatar',
    'profile.updateSuccess': '¡Perfil actualizado exitosamente!',
    'profile.updateError': 'Error al actualizar el perfil.',
    'profile.changeAvatar': 'Cambiar Avatar',
    
    // Set Management
    'sets.create': 'Crear Nuevo Set',
    'sets.title': 'Título del Set',
    'sets.description': 'Descripción',
    'sets.category': 'Categoría',
    'sets.tags': 'Etiquetas',
    'sets.visibility': 'Visibilidad',
    'sets.public': 'Publico',
    'sets.private': 'Privado',
    'sets.shared': 'Compartido',
    'sets.settings': 'Configuración del Set',
    'sets.export': 'Exportar Set',
    'sets.import': 'Importar Set',
    'sets.clone': 'Clonar Set',
    'sets.delete': 'Eliminar Set',
    'sets.share': 'Compartir Set',
    'sets.embed': 'Incorporar Set',
    'sets.statistics': 'Estadísticas',
    'sets.performance': 'Performance',
    
    // AI Generator
    'ai.generate': 'Generar con IA',
    'ai.generating': 'Generando...',
    'ai.topic': 'Tema',
    'ai.difficulty': 'Dificultad',
    'ai.cardCount': 'Número de Tarjetas',
    'ai.includeImages': 'Incluir Imágenes',
    'ai.includeQuiz': 'Incluir Preguntas de Cuestionario',
    'ai.includeFillBlank': 'Incluir Espacios en Blanco',
    'ai.language': 'Idioma del Contenido',
    'ai.tone': 'Tono',
    'ai.format': 'Formato',
    'ai.examples': 'Ejemplos',
    'ai.prompt': 'Prompt Personalizado',
    
    // Languages
    'lang.en': 'English',
    'lang.es': 'Español',
    'lang.fr': 'Français',
    'lang.de': 'Deutsch',
    'lang.it': 'Italiano',
    'lang.zh': '中文',
    
    // Theme Settings
    'theme.settings': 'Configuración del Tema',
    'theme.colorTheme': 'Tema de Color',
    'theme.interfaceSize': 'Tamaño de Interfaz',
    
    // Error Messages
    'error.general': 'Ocurrió un error. Por favor, inténtalo de nuevo.',
    'error.network': 'Error de red. Por favor, verifica tu conexión.',
    'error.notFound': 'El elemento solicitado no se encontró.',
    'error.unauthorized': 'No tienes permiso para realizar esta acción.',
    'error.validation': 'Por favor, verifica tu entrada y inténtalo de nuevo.',
    
    // Success Messages
    'success.saved': 'Guardado exitosamente!',
    'success.created': 'Creado exitosamente!',
    'success.updated': 'Actualizado exitosamente!',
    'success.deleted': 'Eliminado exitosamente!',
    'success.shared': 'Compartido exitosamente!',
    
    // Tooltips and Instructions
    'tooltip.addText': 'Añade un elemento de texto a tu tarjeta',
    'tooltip.addImage': 'Añade una imagen a tu tarjeta',
    'tooltip.addAudio': 'Añade contenido de audio',
    'tooltip.addVideo': 'Añade contenido de video',
    'tooltip.addQuiz': 'Añade una pregunta de cuestionario',
    'tooltip.addTrueFalse': 'Añade una pregunta de verdadero/falso',
    'tooltip.addFillBlank': 'Añade un ejercicio de llenado en blanco',
    'tooltip.addDrawing': 'Añade un lienzo de dibujo',
    'tooltip.arrange': 'Ajusta automáticamente los elementos',
    'tooltip.center': 'Centra los elementos horizontalmente',
    'tooltip.align': 'Alinea los elementos',
    'tooltip.delete': 'Elimina este elemento',
    'tooltip.duplicate': 'Duplica este elemento',
    'tooltip.settings': 'Configuración del elemento',
    
    // Instructions
    'instruction.dragToResize': 'Arrastra los bordes para redimensionar',
    'instruction.clickToEdit': 'Haz clic para editar el texto',
    'instruction.dragToMove': 'Arrastra para mover',
    'instruction.doubleClickEdit': 'Haz doble clic para editar',
    'instruction.selectElement': 'Selecciona un elemento para ver las opciones',
    'instruction.addFirstElement': 'Añade tu primer elemento para comenzar',
  },
  fr: {
    // Navigation & General
    'nav.dashboard': 'Tableau de Bord',
    'nav.profile': 'Profil',
    'nav.signOut': 'Se Déconnecter',
    'nav.createSet': 'Créer Nouveau Set',
    'nav.marketplace': 'Marché',
    'nav.decks': 'Jeux',
    'welcome': 'Bienvenue',
    'loading': 'Chargement...',
    'save': 'Sauvegarder',
    'cancel': 'Annuler',
    'edit': 'Éditer',
    'delete': 'Supprimer',
    'create': 'Créer',
    'add': 'Ajouter',
    'remove': 'Supprimer',
    'close': 'Fermer',
    'back': 'Retour',
    'next': 'Suivant',
    'previous': 'Précédent',
    'submit': 'Soumettre',
    'update': 'Mettre à jour',
    'confirm': 'Confirmer',
    'search': 'Rechercher',
    'filter': 'Filtrer',
    'sort': 'Trier',
    'view': 'Voir',
    'preview': 'Aperçu',
    'download': 'Télécharger',
    'upload': 'Téléverser',
    'share': 'Partager',
    'copy': 'Copier',
    'duplicate': 'Dupliquer',
    'export': 'Exporter',
    'import': 'Importer',
    
    // Homepage
    'home.title': 'Créer des Cartes de Flash avec IA',
    'home.subtitle': 'Transformez votre apprentissage avec des cartes flash interactives puissantes',
    'home.getStarted': 'Commencer gratuitement',
    'home.learnMore': 'En savoir plus',
    'home.features.title': 'Tout ce dont vous avez besoin pour apprendre efficacement',
    'home.features.subtitle': 'Notre plateforme vous fournit toutes les outils nécessaires pour un apprentissage efficace',
    'home.features.ai': 'Contenu avec IA',
    'home.features.aiDesc': 'Générez des cartes flash automatiquement à partir de votre contenu',
    'home.features.interactive': 'Éléments interactifs',
    'home.features.interactiveDesc': 'Quizz, espaces en blanc et support multimédia',
    'home.features.progress': 'Suivi de progression',
    'home.features.progressDesc': 'Suivez votre progression d\'apprentissage et votre performance',
    'home.features.collaboration': 'Collaboration',
    'home.features.collaborationDesc': 'Partagez et apprenez ensemble avec vos amis',
    'home.pricing.title': 'Choisissez votre plan',
    'home.pricing.free': 'Gratuit',
    'home.pricing.pro': 'Pro',
    'home.pricing.enterprise': 'Entreprise',
    
    // Dashboard
    'dashboard.title': 'Vos Sets de Cartes',
    'dashboard.noSets': 'Aucun set de cartes encore',
    'dashboard.noSetsDesc': 'Créez votre premier set pour commencer!',
    'dashboard.createFirst': 'Créer Votre Premier Set',
    'dashboard.viewCards': 'Voir les Cartes',
    'dashboard.study': 'Étudier',
    'dashboard.searchSets': 'Rechercher vos sets...',
    'dashboard.recentSets': 'Sets récents',
    'dashboard.allSets': 'Tous les Sets',
    'dashboard.favorites': 'Favoris',
    'dashboard.shared': 'Partagés avec moi',
    
    // Marketplace
    'marketplace.title': 'Marché',
    'marketplace.subtitle': 'Découvrir et télécharger des sets de cartes créés par la communauté',
    'marketplace.search': 'Rechercher le marché...',
    'marketplace.featured': 'Sets Featured',
    'marketplace.popular': 'Populaire',
    'marketplace.recent': 'Ajoutés récemment',
    'marketplace.categories': 'Catégories',
    'marketplace.download': 'Télécharger',
    'marketplace.preview': 'Prévisualiser',
    'marketplace.rating': 'Note',
    'marketplace.downloads': 'Téléchargements',
    'marketplace.free': 'Gratuit',
    'marketplace.premium': 'Premium',
    
    // Card Editor
    'editor.title': 'Éditeur de Cartes',
    'editor.newCard': 'Nouvelle Carte',
    'editor.duplicateCard': 'Dupliquer Carte',
    'editor.deleteCard': 'Supprimer Carte',
    'editor.cardType': 'Type de Carte',
    'editor.frontSide': 'Face',
    'editor.backSide': 'Face arrière',
    'editor.addElement': 'Ajouter Élément',
    'editor.elementTypes.text': 'Texte',
    'editor.elementTypes.image': 'Image',
    'editor.elementTypes.audio': 'Audio',
    'editor.elementTypes.video': 'Vidéo',
    'editor.elementTypes.quiz': 'Quiz',
    'editor.elementTypes.trueFalse': 'Vrai/Faux',
    'editor.elementTypes.fillBlank': 'Remplir le champ',
    'editor.elementTypes.drawing': 'Dessin',
    'editor.elementTypes.embed': 'Incorporer',
    'editor.tools.arrange': 'Auto Arranger',
    'editor.tools.grid': 'Layout en Grille',
    'editor.tools.center': 'Centrer',
    'editor.tools.align': 'Aligner',
    'editor.canvas.width': 'Largeur du Canvas',
    'editor.canvas.height': 'Hauteur du Canvas',
    'editor.element.position': 'Position',
    'editor.element.size': 'Taille',
    'editor.element.style': 'Style',
    'editor.element.content': 'Contenu',
    'editor.element.behavior': 'Comportement',
    
    // Study Mode
    'study.title': 'Mode d\'Étude',
    'study.settings': 'Paramètres d\'Étude',
    'study.mode.flashcard': 'Mode de Cartes',
    'study.mode.quiz': 'Mode de Quiz',
    'study.mode.review': 'Mode de Révision',
    'study.shuffle': 'Mélanger les Cartes',
    'study.timer': 'Timer',
    'study.autoFlip': 'Auto Retourner',
    'study.showHint': 'Afficher le Conseil',
    'study.hideHint': 'Cacher le Conseil',
    'study.revealAnswer': 'Afficher la Réponse',
    'study.correct': 'Correct',
    'study.incorrect': 'Incorrect',
    'study.nextCard': 'Carte Suivante',
    'study.prevCard': 'Carte Précédente',
    'study.progress': 'Progression',
    'study.complete': 'Étude Terminée !',
    'study.score': 'Votre Score',
    'study.accuracy': 'Précision',
    'study.timeSpent': 'Temps passé',
    'study.cardsStudied': 'Cartes Étudiées',
    'study.restart': 'Recommencer',
    'study.backToSet': 'Retour au Set',
    
    // Profile
    'profile.title': 'Paramètres du Profil',
    'profile.personalInfo': 'Informations Personnelles',
    'profile.firstName': 'Prénom',
    'profile.lastName': 'Nom',
    'profile.email': 'Adresse Email',
    'profile.avatar': 'Photo de Profil',
    'profile.language': 'Langue',
    'profile.selectAvatar': 'Sélectionner Avatar',
    'profile.updateSuccess': 'Profil mis à jour avec succès!',
    'profile.updateError': 'Échec de la mise à jour du profil.',
    'profile.changeAvatar': 'Changer Avatar',
    
    // Set Management
    'sets.create': 'Créer Nouveau Set',
    'sets.title': 'Titre du Set',
    'sets.description': 'Description',
    'sets.category': 'Catégorie',
    'sets.tags': 'Tags',
    'sets.visibility': 'Visibilité',
    'sets.public': 'Public',
    'sets.private': 'Privé',
    'sets.shared': 'Partagé',
    'sets.settings': 'Paramètres du Set',
    'sets.export': 'Exporter Set',
    'sets.import': 'Importer Set',
    'sets.clone': 'Cloner Set',
    'sets.delete': 'Supprimer Set',
    'sets.share': 'Partager Set',
    'sets.embed': 'Incorporer Set',
    'sets.statistics': 'Statistiques',
    'sets.performance': 'Performance',
    
    // AI Generator
    'ai.generate': 'Générer avec IA',
    'ai.generating': 'Génération...',
    'ai.topic': 'Thème',
    'ai.difficulty': 'Difficulté',
    'ai.cardCount': 'Nombre de Cartes',
    'ai.includeImages': 'Inclure des Images',
    'ai.includeQuiz': 'Inclure des Questions de Quiz',
    'ai.includeFillBlank': 'Inclure des Espaces en Blanc',
    'ai.language': 'Langue du Contenu',
    'ai.tone': 'Ton',
    'ai.format': 'Format',
    'ai.examples': 'Exemples',
    'ai.prompt': 'Prompt personnalisé',
    
    // Languages
    'lang.en': 'English',
    'lang.es': 'Español',
    'lang.fr': 'Français',
    'lang.de': 'Deutsch',
    'lang.it': 'Italiano',
    'lang.zh': '中文',
    
    // Theme Settings
    'theme.settings': 'Paramètres du Thème',
    'theme.colorTheme': 'Thème de Couleur',
    'theme.interfaceSize': 'Taille de l\'Interface',
    
    // Error Messages
    'error.general': 'Une erreur s\'est produite. Veuillez réessayer.',
    'error.network': 'Erreur de réseau. Veuillez vérifier votre connexion.',
    'error.notFound': 'L\'élément demandé n\'a pas été trouvé.',
    'error.unauthorized': 'Vous n\'êtes pas autorisé à effectuer cette action.',
    'error.validation': 'Veuillez vérifier votre entrée et réessayer.',
    
    // Success Messages
    'success.saved': 'Enregistré avec succès!',
    'success.created': 'Créé avec succès!',
    'success.updated': 'Mis à jour avec succès!',
    'success.deleted': 'Supprimé avec succès!',
    'success.shared': 'Partagé avec succès!',
    
    // Tooltips and Instructions
    'tooltip.addText': 'Ajouter un élément de texte à votre carte',
    'tooltip.addImage': 'Ajouter une image à votre carte',
    'tooltip.addAudio': 'Ajouter du contenu audio',
    'tooltip.addVideo': 'Ajouter du contenu vidéo',
    'tooltip.addQuiz': 'Ajouter une question de quiz',
    'tooltip.addTrueFalse': 'Ajouter une question vrais/faux',
    'tooltip.addFillBlank': 'Ajouter un exercice de remplissage en blanc',
    'tooltip.addDrawing': 'Ajouter un canvas de dessin',
    'tooltip.arrange': 'Arranger automatiquement les éléments',
    'tooltip.center': 'Centrer les éléments horizontalement',
    'tooltip.align': 'Aligner les éléments',
    'tooltip.delete': 'Supprimer cet élément',
    'tooltip.duplicate': 'Dupliquer cet élément',
    'tooltip.settings': 'Paramètres de l\'élément',
    
    // Instructions
    'instruction.dragToResize': 'Glisser-déposer les coins pour redimensionner',
    'instruction.clickToEdit': 'Cliquez pour éditer le texte',
    'instruction.dragToMove': 'Glisser-déposer pour déplacer',
    'instruction.doubleClickEdit': 'Double-cliquez pour éditer',
    'instruction.selectElement': 'Sélectionnez un élément pour voir les options',
    'instruction.addFirstElement': 'Ajoutez votre premier élément pour commencer',
  },
  zh: {
    // Navigation & General
    'nav.dashboard': '仪表板',
    'nav.profile': '个人资料',
    'nav.signOut': '退出登录',
    'nav.createSet': '创建新卡组',
    'nav.marketplace': '市场',
    'nav.decks': '卡组',
    'welcome': '欢迎',
    'loading': '加载中...',
    'save': '保存',
    'cancel': '取消',
    'edit': '编辑',
    'delete': '删除',
    'create': '创建',
    'add': '添加',
    'remove': '移除',
    'close': '关闭',
    'back': '返回',
    'next': '下一个',
    'previous': '上一个',
    'submit': '提交',
    'update': '更新',
    'confirm': '确认',
    'search': '搜索',
    'filter': '筛选',
    'sort': '排序',
    'view': '查看',
    'preview': '预览',
    'download': '下载',
    'upload': '上传',
    'share': '分享',
    'copy': '复制',
    'duplicate': '复制',
    'export': '导出',
    'import': '导入',
    
    // Homepage
    'home.title': '使用AI创建强大的学习卡片',
    'home.subtitle': '通过人工智能驱动的互动学习卡片来改变您的学习方式',
    'home.getStarted': '免费开始',
    'home.learnMore': '了解更多',
    
    // Dashboard
    'dashboard.title': '您的闪卡卡组',
    'dashboard.noSets': '暂无闪卡卡组',
    'dashboard.noSetsDesc': '创建您的第一个卡组开始学习！',
    'dashboard.createFirst': '创建您的第一个卡组',
    'dashboard.viewCards': '查看卡片',
    'dashboard.study': '学习',
    'dashboard.searchSets': '搜索您的卡组...',
    'dashboard.recentSets': '最近的卡组',
    'dashboard.allSets': '所有卡组',
    'dashboard.favorites': '收藏',
    'dashboard.shared': '与我共享',
    
    // Marketplace
    'marketplace.title': '市场',
    'marketplace.subtitle': '发现并下载由社区创建的闪卡集',
    'marketplace.search': '搜索市场...',
    'marketplace.featured': '特色集',
    'marketplace.popular': '热门',
    'marketplace.recent': '最近添加',
    'marketplace.categories': '类别',
    'marketplace.download': '下载',
    'marketplace.preview': '预览',
    'marketplace.rating': '评分',
    'marketplace.downloads': '下载次数',
    'marketplace.free': '免费',
    'marketplace.premium': '高级',
    
    // Card Editor
    'editor.title': '卡片编辑器',
    'editor.newCard': '新卡片',
    'editor.duplicateCard': '复制卡片',
    'editor.deleteCard': '删除卡片',
    'editor.cardType': '卡片类型',
    'editor.frontSide': '正面',
    'editor.backSide': '背面',
    'editor.addElement': '添加元素',
    'editor.elementTypes.text': '文本',
    'editor.elementTypes.image': '图片',
    'editor.elementTypes.audio': '音频',
    'editor.elementTypes.video': '视频',
    'editor.elementTypes.quiz': '问答',
    'editor.elementTypes.trueFalse': '判断题',
    'editor.elementTypes.fillBlank': '填空题',
    'editor.elementTypes.drawing': '绘画',
    'editor.elementTypes.embed': '嵌入',
    'editor.tools.arrange': '自动排列',
    'editor.tools.grid': '网格布局',
    'editor.tools.center': '居中',
    'editor.tools.align': '对齐',
    'editor.canvas.width': '画布宽度',
    'editor.canvas.height': '画布高度',
    'editor.element.position': '位置',
    'editor.element.size': '大小',
    'editor.element.style': '样式',
    'editor.element.content': '内容',
    'editor.element.behavior': '行为',
    
    // Study Mode
    'study.title': '学习模式',
    'study.settings': '学习设置',
    'study.mode.flashcard': '卡片模式',
    'study.mode.quiz': '问答模式',
    'study.mode.review': '复习模式',
    'study.shuffle': '随机打乱卡片',
    'study.timer': '计时器',
    'study.autoFlip': '自动翻转',
    'study.showHint': '显示提示',
    'study.hideHint': '隐藏提示',
    'study.revealAnswer': '显示答案',
    'study.correct': '正确',
    'study.incorrect': '错误',
    'study.nextCard': '下一张卡片',
    'study.prevCard': '上一张卡片',
    'study.progress': '进度',
    'study.complete': '学习完成！',
    'study.score': '您的得分',
    'study.accuracy': '准确率',
    'study.timeSpent': '花费时间',
    'study.cardsStudied': '学习的卡片',
    'study.restart': '重新学习',
    'study.backToSet': '返回卡组',
    
    // Profile
    'profile.title': '个人资料设置',
    'profile.personalInfo': '个人信息',
    'profile.firstName': '名',
    'profile.lastName': '姓',
    'profile.email': '电子邮箱',
    'profile.avatar': '头像',
    'profile.language': '语言',
    'profile.selectAvatar': '选择头像',
    'profile.updateSuccess': '个人资料更新成功！',
    'profile.updateError': '更新个人资料失败。',
    'profile.changeAvatar': '更换头像',
    
    // Set Management
    'sets.create': '创建新卡组',
    'sets.title': '卡组标题',
    'sets.description': '描述',
    'sets.category': '类别',
    'sets.tags': '标签',
    'sets.visibility': '可见性',
    'sets.public': '公开',
    'sets.private': '私有',
    'sets.shared': '共享',
    'sets.settings': '卡组设置',
    'sets.export': '导出卡组',
    'sets.import': '导入卡组',
    'sets.clone': '克隆卡组',
    'sets.delete': '删除卡组',
    'sets.share': '分享卡组',
    'sets.embed': '嵌入卡组',
    'sets.statistics': '统计',
    'sets.performance': '性能',
    
    // AI Generator
    'ai.generate': '使用AI生成',
    'ai.generating': '生成中...',
    'ai.topic': '主题',
    'ai.difficulty': '难度',
    'ai.cardCount': '卡片数量',
    'ai.includeImages': '包含图片',
    'ai.includeQuiz': '包含问答题',
    'ai.includeFillBlank': '包含填空题',
    'ai.language': '内容语言',
    'ai.tone': '语调',
    'ai.format': '格式',
    'ai.examples': '示例',
    'ai.prompt': '自定义提示',
    
    // Languages
    'lang.en': 'English',
    'lang.es': 'Español',
    'lang.fr': 'Français',
    'lang.de': 'Deutsch',
    'lang.it': 'Italiano',
    'lang.zh': '中文',
    
    // Theme Settings
    'theme.settings': '主题设置',
    'theme.colorTheme': '颜色主题',
    'theme.interfaceSize': '界面大小',
    
    // Error Messages
    'error.general': '发生了一个错误。请重试。',
    'error.network': '网络错误。请检查你的连接。',
    'error.notFound': '请求的项未找到。',
    'error.unauthorized': '你没有权限执行此操作。',
    'error.validation': '请检查你的输入并重试。',
    
    // Success Messages
    'success.saved': '保存成功！',
    'success.created': '创建成功！',
    'success.updated': '更新成功！',
    'success.deleted': '删除成功！',
    'success.shared': '分享成功！',
    
    // Tooltips and Instructions
    'tooltip.addText': '在卡片中添加文本元素',
    'tooltip.addImage': '在卡片中添加图片',
    'tooltip.addAudio': '添加音频内容',
    'tooltip.addVideo': '添加视频内容',
    'tooltip.addQuiz': '添加多选题',
    'tooltip.addTrueFalse': '添加判断题',
    'tooltip.addFillBlank': '添加填空题',
    'tooltip.addDrawing': '添加绘画画布',
    'tooltip.arrange': '自动排列元素',
    'tooltip.center': '水平居中元素',
    'tooltip.align': '对齐元素',
    'tooltip.delete': '删除此元素',
    'tooltip.duplicate': '复制此元素',
    'tooltip.settings': '元素设置',
    
    // Instructions
    'instruction.dragToResize': '拖动角以调整大小',
    'instruction.clickToEdit': '点击编辑文本',
    'instruction.dragToMove': '拖动以移动',
    'instruction.doubleClickEdit': '双击编辑',
    'instruction.selectElement': '选择一个元素以查看选项',
    'instruction.addFirstElement': '添加你的第一个元素开始',
  }
};

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState('en');

  // Load language from localStorage or user profile
  useEffect(() => {
    const savedLanguage = localStorage.getItem('preferred-language');
    if (savedLanguage && translations[savedLanguage as keyof typeof translations]) {
      setLanguage(savedLanguage);
    }
  }, []);

  // Save language preference
  useEffect(() => {
    localStorage.setItem('preferred-language', language);
  }, [language]);

  const t = (key: string): string => {
    const lang = translations[language as keyof typeof translations] || translations.en;
    return lang[key as keyof typeof lang] || key;
  };

  const value = {
    language,
    setLanguage,
    t,
  };

  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
};
